import{O as j,r as x,d as E,c as M,o as g,I as T,w as n,b,u as o,g as c,n as y,a as e,l as $,e as z,f as k,k as i,m as F,t as h,R as N,S as O}from"./app-BDCeMI-n.js";import{_ as A}from"./ActionMessage-CiqIePl7.js";import{_ as V}from"./FormSection-B_-thOvR.js";import{_ as R}from"./PrimaryButton-B3QQMSTm.js";import{i as q}from"./TeamHelpers-DTrHaJ8U.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SectionTitle-B0L66kJy.js";const a=l=>(N("data-v-93dd2106"),l=l(),O(),l),G={class:"col-span-6 p-8 w-full flex flex-col"},H=["onDrop","onDragover","onDragenter","onDragleave"],J=a(()=>e("p",{class:"mb-3 font-semibold text-gray-900 flex flex-wrap justify-center"},[e("span",null,"Arrastre y suelte su"),c("Â "),e("span",null,"imagen donde sea o")],-1)),K=a(()=>e("h1",{class:"pt-8 pb-3 font-semibold sm:text-lg text-gray-900"}," Imagenes subidas ",-1)),P={class:"flex flex-1 flex-wrap -m-1"},Q=a(()=>e("li",{id:"empty",class:"h-full w-full text-center flex flex-col items-center justify-center"},[e("img",{class:"mx-auto w-32",src:"https://user-images.githubusercontent.com/507615/54591670-ac0a0180-4a65-11e9-846c-e55ffce0fe7b.png",alt:"no data"}),e("span",{class:"text-small text-gray-500"},"No se ha seleccionado ninguna imagen")],-1)),W=[Q],X={key:0,class:"col-span-6"},Y={class:"block p-1 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/6 xl:w-1/8"},Z={tabindex:"0",class:"group hasImage w-full rounded-md focus:outline-none focus:shadow-outline bg-gray-100 cursor-pointer relative text-transparent hover:text-white shadow-sm"},ee=["src"],se={class:"flex flex-col rounded-md text-xs break-words w-full h-full z-20 absolute top-0 py-2 px-3"},te={class:"flex-1"},oe={class:"flex"},ae=a(()=>e("span",{class:"p-1"},[e("i",null,[e("svg",{class:"fill-current w-4 h-4 ml-auto pt-",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{d:"M5 8.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5zm9 .5l-2.519 4-2.481-1.96-4 5.96h14l-5-8zm8-4v14h-20v-14h20zm2-2h-24v18h24v-18z"})])])],-1)),le={class:"p-1 size text-xs"},ne=a(()=>e("svg",{class:"pointer-events-none fill-current w-4 h-4 ml-auto",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{class:"pointer-events-none",d:"M3 6l3 18h12l3-18h-18zm19-4v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.316c0 .901.73 2 1.631 2h5.711z"})],-1)),re=[ne],ie={key:1,class:"col-span-6"},ce={class:"block p-1 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/6 xl:w-1/8"},de={tabindex:"0",class:"group hasImage w-full rounded-md focus:outline-none focus:shadow-outline bg-gray-100 cursor-pointer relative text-transparent hover:text-white shadow-sm"},ue=["src"],me={class:"flex flex-col rounded-md text-xs break-words w-full h-full min-h-[4rem] z-20 absolute top-0 py-2 px-3"},ge=a(()=>e("h1",{class:"flex-1"},"Imagen actual",-1)),he={class:"flex"},pe=a(()=>e("span",{class:"p-1"},[e("i",null,[e("svg",{class:"fill-current w-4 h-4 ml-auto pt-",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{d:"M5 8.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5zm9 .5l-2.519 4-2.481-1.96-4 5.96h14l-5-8zm8-4v14h-20v-14h20zm2-2h-24v18h24v-18z"})])])],-1)),_e={class:"p-1 size text-xs"},fe=["onClick"],ve=a(()=>e("svg",{class:"pointer-events-none fill-current w-4 h-4 ml-auto",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{class:"pointer-events-none",d:"M3 6l3 18h12l3-18h-18zm19-4v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.316c0 .901.73 2 1.631 2h5.711z"})],-1)),we=[ve],xe={__name:"AddTeamLogoForm",props:{team:Object},setup(l){const u=l,d=j(),p=x(null),_=()=>q(u.team.logo),s=E.useForm({name:u.team.name,image:null,image_src:null,image_name:u.team.name,image_size:null}),D=t=>{s.image=t.target.files[0],s.image_src=s.image,f(s.image_src)},S=()=>{s.post(route("media.upload.team.logo"),{preserveScroll:!0,onSuccess:()=>{m(),d("Logo subido correctamente",{type:"success",timeout:3e3})},onError:t=>{m(),d("Error al subir el logo",{type:"error",timeout:3e3}),console.log(t)}})},f=t=>{s.image_src=URL.createObjectURL(t),s.image_name=t.name.length>20?t.name.substring(0,20)+"...":t.name,s.image_size=t.size>1024?t.size>1048576?Math.round(t.size/1048576)+"mb":Math.round(t.size/1024)+"kb":t.size+"b"},m=()=>{_()?v():(s.image=null,s.image_src=null,s.image_name=null,s.image_size=null)},v=()=>{s.delete(route("media.reset.team.logo"),{preserveScroll:!0,onSuccess:()=>{d("Logo eliminado correctamente",{type:"success",timeout:3e3}),setTimeout(()=>{window.location.reload()},4e3)},onError:t=>{d("Error al eliminar el logo",{type:"error",timeout:3e3}),console.log("error",t)}})},I=t=>{t.preventDefault(),r.value=!1,s.image_src=t.dataTransfer.files[0],f(s.image_src)},r=x(!1),L=t=>{t.preventDefault(),r.value=!0},C=t=>{t.preventDefault(),r.value=!0},B=t=>{t.preventDefault(),r.value=!1};return(t,w)=>(g(),M(V,{onSubmitted:S},T({title:n(()=>[c(" Agregar logo de la agencia ")]),description:n(()=>[c(" Sube una imagen que idefintifique a la agencia, la imagen debe ser de 301 pixeles de ancho y 121 pixeles de alto. ")]),form:n(()=>[e("section",G,[e("header",{onDrop:i(I,["prevent"]),onDragover:i(L,["prevent"]),onDragenter:i(C,["prevent"]),onDragleave:i(B,["prevent"]),class:y([{"bg-blue-100 border-blue-300":r.value},"border-dashed border-2 border-gray-400 py-12 flex flex-col justify-center items-center"])},[J,e("input",{ref_key:"imgInput",ref:p,onChange:D,id:"hidden-input",type:"file",multiple:"",class:"hidden"},null,544),e("button",{type:"button",onClick:w[0]||(w[0]=be=>p.value.click()),class:"mt-2 rounded-sm px-3 py-1 bg-gray-200 hover:bg-gray-300 focus:shadow-outline focus:outline-none"}," Subir imagen ")],42,H),K,$(e("ul",P,W,512),[[F,o(s).image_src==null]]),o(s).image_src?(g(),z("section",X,[e("li",Y,[e("article",Z,[e("img",{src:o(s).image_src,alt:"upload preview",class:"img-preview w-full h-full sticky object-cover rounded-md bg-fixed"},null,8,ee),e("section",se,[e("h1",te,h(o(s).image_name),1),e("div",oe,[ae,e("p",le,h(o(s).image_size),1),e("button",{onClick:m,class:"delete ml-auto focus:outline-none hover:text-red-500 hover:bg-gray-300 p-1 rounded-md"},re)])])])])])):k("",!0),!_()&&o(s).image==null?(g(),z("section",ie,[e("li",ce,[e("article",de,[e("img",{src:`/storage/${l.team.logo}`,alt:"upload preview",class:"img-preview w-full h-full sticky object-cover rounded-md bg-fixed"},null,8,ue),e("section",me,[ge,e("div",he,[pe,e("p",_e,h(o(s).image_size),1),e("button",{type:"button",onClick:i(v,["prevent"]),class:"delete ml-auto focus:outline-none hover:text-red-500 hover:bg-gray-300 p-1 rounded-md"},we,8,fe)])])])])])):k("",!0)])]),_:2},[{name:"actions",fn:n(()=>[b(A,{on:o(s).recentlySuccessful,class:"mr-3"},{default:n(()=>[c(" Guardado. ")]),_:1},8,["on"]),b(R,{class:y({"opacity-25":o(s).processing}),disabled:o(s).processing},{default:n(()=>[c(" Subir logo ")]),_:1},8,["class","disabled"])]),key:"0"}]),1024))}},Ce=U(xe,[["__scopeId","data-v-93dd2106"]]);export{Ce as default};
