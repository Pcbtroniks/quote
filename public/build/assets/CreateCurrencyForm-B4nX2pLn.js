import{r as j,d as N,e as u,o as p,b as o,w as l,g as d,u as a,n as w,a as t,t as k,f as U,k as D,F}from"./app-CmGksPe4.js";import{_ as z}from"./ActionMessage-TVMFGp01.js";import{_ as B}from"./FormSection-BHZxQ0kN.js";import{_}from"./InputError-D85bYpeL.js";import{_ as f}from"./InputLabel-DGq1KKcq.js";import{_ as O}from"./PrimaryButton-BtvZe4SK.js";import{_ as v}from"./TextInput-CXjyIrOW.js";import{E as V}from"./Alerts-BBMJ-g0L.js";import{d as C}from"./index-Bs_ljG8B.js";import{_ as G}from"./ConfirmationModal-DS6UqCSE.js";import{_ as I}from"./SecondaryButton-AXC8t_lt.js";import{_ as T}from"./DangerButton-b-kdLijX.js";import"./SectionTitle-DedxpuOk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sweetalert2.all-oDEnVfCK.js";import"./Modal-DFLOqRQY.js";const q={class:"text-sm text-gray-500 font-bold"},A=t("p",{class:"text-sm"}," ¿Estás seguro de que deseas eliminar esta divisa? Una vez eliminada, no se podrá recuperar. ",-1),L=t("h3",{class:"text-gray-300"}," Divisa ",-1),M=t("span",{class:"text-white"}," Las monedas o divisas son utilizadas para el manejo de precios en la plataforma. Su funcion es la de poder manejar precios en diferentes monedas. Puedes ",-1),P={key:0},H=["href"],J={key:1},K=["href"],Q={key:0,class:"col-span-6 sm:col-span-4 flex justify-end"},R={class:"col-span-6 sm:col-span-4"},W={class:"col-span-6 sm:col-span-4"},X={class:"col-span-6 sm:col-span-4"},Y={class:"col-span-6 sm:col-span-4"},fe={__name:"CreateCurrencyForm",props:{currency:Object},setup($){var y,b,g,h;const n=$,m=j(!1),e=N.useForm({name:((y=n.currency)==null?void 0:y.name)||null,conversion_rate:((b=n.currency)==null?void 0:b.conversion_rate)||null,symbol:((g=n.currency)==null?void 0:g.symbol)||null,code:((h=n.currency)==null?void 0:h.code)||null}),E=()=>{e.post(route("localisation.currencies.store"),{preserveScroll:!0,onSuccess:()=>{C.Inertia.visit(route("localisation.currencies.index"))},onError:c=>{console.log(c);const s=Object.values(c).flat().join(" - ");V("Error al agregar la divisa",s)}})},S=()=>{e.delete(route("localisation.currencies.destroy",{currency:n.currency.id}),{preserveScroll:!0,onSuccess:()=>{C.Inertia.visit(route("localisation.currencies.index"))},onError:c=>{console.log(c);const s=Object.values(c).flat().join(" - ");V("Error al eliminar la divisa",s)}})};return(c,s)=>{var x;return p(),u(F,null,[o(G,{show:m.value&&((x=n.currency)==null?void 0:x.id),onClose:s[1]||(s[1]=i=>m.value=!1)},{title:l(()=>{var i,r;return[d(" Se eliminara la divisa "),t("span",q,k((i=n.currency)==null?void 0:i.name)+" ("+k((r=n.currency)==null?void 0:r.code)+")",1)]}),content:l(()=>[A]),footer:l(()=>[o(I,{onClick:s[0]||(s[0]=i=>m.value=!1)},{default:l(()=>[d(" Cancelar operación ")]),_:1}),o(T,{class:w(["ml-2",{"opacity-25":a(e).processing}]),onClick:S,disabled:a(e).processing},{default:l(()=>[d(" Eliminar divisa ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),o(B,{onSubmitted:E},{title:l(()=>[L]),description:l(()=>{var i;return[M,(i=n.currency)!=null&&i.id?(p(),u("span",J,[t("a",{href:c.route("localisation.currencies.show"),class:"text-blue-500"},"agregar una nueva divisa",8,K)])):(p(),u("span",P,[t("a",{href:c.route("localisation.currencies.index"),class:"text-blue-500"},"ver todas las divisas",8,H)]))]}),form:l(()=>{var i;return[(i=n.currency)!=null&&i.id?(p(),u("div",Q,[t("button",{type:"button",onClick:s[2]||(s[2]=D(r=>m.value=!0,["prevent"])),class:"border-2 border-red-500 text-red-500 hover:bg-red-500 hover:text-white py-1 px-4 rounded-xl duration-150 hover:shadow-md hover:shadow-red-600"},"Eliminar divisa")])):U("",!0),t("div",R,[o(f,{for:"adult_low_price",value:"Nombre"}),o(v,{id:"name",modelValue:a(e).name,"onUpdate:modelValue":s[3]||(s[3]=r=>a(e).name=r),placeholder:"Nombre de la moneda",type:"text",class:"mt-1 block w-full",spellcheck:"false"},null,8,["modelValue"]),o(_,{message:a(e).errors.adult_low_price,class:"mt-2"},null,8,["message"])]),t("div",W,[o(f,{for:"adult_low_price",value:"Tasa de conversión"}),o(v,{id:"conversion_rate",modelValue:a(e).conversion_rate,"onUpdate:modelValue":s[4]||(s[4]=r=>a(e).conversion_rate=r),pattern:"[0-9]+([,\\.][0-9]+)?",type:"text",placeholder:"0.01, 1.16...",class:"mt-1 block w-full"},null,8,["modelValue"]),o(_,{message:a(e).errors.adult_low_price,class:"mt-2"},null,8,["message"])]),t("div",X,[o(f,{for:"adult_low_price",value:"Codigo de moneda"}),o(v,{id:"code",modelValue:a(e).code,"onUpdate:modelValue":s[5]||(s[5]=r=>a(e).code=r),placeholder:"",type:"text",class:"mt-1 block w-full",spellcheck:"false"},null,8,["modelValue"]),o(_,{message:a(e).errors.adult_low_price,class:"mt-2"},null,8,["message"])]),t("div",Y,[o(f,{for:"adult_low_price",value:"Simbolo"}),o(v,{id:"symbol",modelValue:a(e).symbol,"onUpdate:modelValue":s[6]||(s[6]=r=>a(e).symbol=r),placeholder:"",type:"text",class:"mt-1 block w-full",spellcheck:"false"},null,8,["modelValue"]),o(_,{message:a(e).errors.adult_low_price,class:"mt-2"},null,8,["message"])])]}),actions:l(()=>[o(z,{on:a(e).recentlySuccessful,class:"mr-3"},{default:l(()=>[d(" Guardado. ")]),_:1},8,["on"]),o(O,{class:w({"opacity-25":a(e).processing}),disabled:a(e).processing},{default:l(()=>[d(" Guardar ")]),_:1},8,["class","disabled"])]),_:1})],64)}}};export{fe as default};
