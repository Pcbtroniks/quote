import{r as j,d as N,e as u,o as p,b as o,w as l,g as d,u as a,n as w,a as i,t as k,f as U,k as D,F}from"./app-BQS9gv_S.js";import{_ as z}from"./ActionMessage-BCyiZNui.js";import{_ as B}from"./FormSection-DKWU9Lzx.js";import{_}from"./InputError-DpkF8u5f.js";import{_ as f}from"./InputLabel-BmUnEcjW.js";import{_ as O}from"./PrimaryButton-_KulPFF-.js";import{_ as v}from"./TextInput-VERiJIui.js";import{E as V}from"./Alerts-E0CCc5GJ.js";import{d as C}from"./index-CnVEdaj_.js";import{_ as G}from"./ConfirmationModal-DkEB07jL.js";import{_ as I}from"./SecondaryButton-Cl9OVuPT.js";import{_ as T}from"./DangerButton-D2bJzs3y.js";import"./SectionTitle-CHdC2a36.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sweetalert2.all-CylriZx6.js";import"./Modal-B8EKt0Is.js";const q={class:"text-sm text-gray-500 font-bold"},A=i("p",{class:"text-sm"}," ¿Estás seguro de que deseas eliminar esta divisa? Una vez eliminada, no se podrá recuperar. ",-1),L={key:0},M=["href"],P={key:1},H=["href"],J={key:0,class:"col-span-6 sm:col-span-4 flex justify-end"},K={class:"col-span-6 sm:col-span-4"},Q={class:"col-span-6 sm:col-span-4"},R={class:"col-span-6 sm:col-span-4"},W={class:"col-span-6 sm:col-span-4"},pe={__name:"CreateCurrencyForm",props:{currency:Object},setup($){var y,b,g,x;const t=$,m=j(!1),e=N.useForm({name:((y=t.currency)==null?void 0:y.name)||null,conversion_rate:((b=t.currency)==null?void 0:b.conversion_rate)||null,symbol:((g=t.currency)==null?void 0:g.symbol)||null,code:((x=t.currency)==null?void 0:x.code)||null}),E=()=>{e.post(route("localisation.currencies.store"),{preserveScroll:!0,onSuccess:()=>{C.Inertia.visit(route("localisation.currencies.index"))},onError:c=>{console.log(c);const s=Object.values(c).flat().join(" - ");V("Error al agregar la divisa",s)}})},S=()=>{e.delete(route("localisation.currencies.destroy",{currency:t.currency.id}),{preserveScroll:!0,onSuccess:()=>{C.Inertia.visit(route("localisation.currencies.index"))},onError:c=>{console.log(c);const s=Object.values(c).flat().join(" - ");V("Error al eliminar la divisa",s)}})};return(c,s)=>{var h;return p(),u(F,null,[o(G,{show:m.value&&((h=t.currency)==null?void 0:h.id),onClose:s[1]||(s[1]=n=>m.value=!1)},{title:l(()=>{var n,r;return[d(" Se eliminara la divisa "),i("span",q,k((n=t.currency)==null?void 0:n.name)+" ("+k((r=t.currency)==null?void 0:r.code)+")",1)]}),content:l(()=>[A]),footer:l(()=>[o(I,{onClick:s[0]||(s[0]=n=>m.value=!1)},{default:l(()=>[d(" Cancelar operación ")]),_:1}),o(T,{class:w(["ml-2",{"opacity-25":a(e).processing}]),onClick:S,disabled:a(e).processing},{default:l(()=>[d(" Eliminar divisa ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),o(B,{onSubmitted:E},{title:l(()=>[d(" Divisa ")]),description:l(()=>{var n;return[d(" Las monedas o divisas son utilizadas para el manejo de precios en la plataforma. Su funcion es la de poder manejar precios en diferentes monedas. Puedes "),(n=t.currency)!=null&&n.id?(p(),u("span",P,[i("a",{href:c.route("localisation.currencies.show"),class:"text-blue-500"},"agregar una nueva divisa",8,H)])):(p(),u("span",L,[i("a",{href:c.route("localisation.currencies.index"),class:"text-blue-500"},"ver todas las divisas",8,M)]))]}),form:l(()=>{var n;return[(n=t.currency)!=null&&n.id?(p(),u("div",J,[i("button",{type:"button",onClick:s[2]||(s[2]=D(r=>m.value=!0,["prevent"])),class:"border-2 border-red-500 text-red-500 hover:bg-red-500 hover:text-white py-1 px-4 rounded-xl duration-150 hover:shadow-md hover:shadow-red-600"},"Eliminar divisa")])):U("",!0),i("div",K,[o(f,{for:"adult_low_price",value:"Nombre"}),o(v,{id:"name",modelValue:a(e).name,"onUpdate:modelValue":s[3]||(s[3]=r=>a(e).name=r),placeholder:"Nombre de la moneda",type:"text",class:"mt-1 block w-full",spellcheck:"false"},null,8,["modelValue"]),o(_,{message:a(e).errors.adult_low_price,class:"mt-2"},null,8,["message"])]),i("div",Q,[o(f,{for:"adult_low_price",value:"Tasa de conversión"}),o(v,{id:"conversion_rate",modelValue:a(e).conversion_rate,"onUpdate:modelValue":s[4]||(s[4]=r=>a(e).conversion_rate=r),pattern:"[0-9]+([,\\.][0-9]+)?",type:"text",placeholder:"0.01, 1.16...",class:"mt-1 block w-full"},null,8,["modelValue"]),o(_,{message:a(e).errors.adult_low_price,class:"mt-2"},null,8,["message"])]),i("div",R,[o(f,{for:"adult_low_price",value:"Codigo de moneda"}),o(v,{id:"code",modelValue:a(e).code,"onUpdate:modelValue":s[5]||(s[5]=r=>a(e).code=r),placeholder:"",type:"text",class:"mt-1 block w-full",spellcheck:"false"},null,8,["modelValue"]),o(_,{message:a(e).errors.adult_low_price,class:"mt-2"},null,8,["message"])]),i("div",W,[o(f,{for:"adult_low_price",value:"Simbolo"}),o(v,{id:"symbol",modelValue:a(e).symbol,"onUpdate:modelValue":s[6]||(s[6]=r=>a(e).symbol=r),placeholder:"",type:"text",class:"mt-1 block w-full",spellcheck:"false"},null,8,["modelValue"]),o(_,{message:a(e).errors.adult_low_price,class:"mt-2"},null,8,["message"])])]}),actions:l(()=>[o(z,{on:a(e).recentlySuccessful,class:"mr-3"},{default:l(()=>[d(" Guardado. ")]),_:1},8,["on"]),o(O,{class:w({"opacity-25":a(e).processing}),disabled:a(e).processing},{default:l(()=>[d(" Guardar ")]),_:1},8,["class","disabled"])]),_:1})],64)}}};export{pe as default};
