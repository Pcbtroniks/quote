import{u as h,r as k,o as n,d as r,b as a,w as s,e as c,f as i,a as l,g as o,F as C,h as x,n as u,t as _,y as H,j as J}from"./app.8df7766f.js";import{_ as K}from"./ActionMessage.7bc4de6d.js";import{_ as A}from"./Modal.d3368fc3.js";import{_ as j}from"./ConfirmationModal.860d11e6.js";import{_ as B}from"./DangerButton.8f9c0945.js";import{_ as Q}from"./DialogModal.ed7d83da.js";import{_ as W}from"./FormSection.e7e9a3ba.js";import{_ as X,a as F}from"./TextInput.39a27708.js";import{_ as P}from"./InputLabel.63e42e79.js";import{_ as z}from"./PrimaryButton.416f08fb.js";import{_ as $}from"./SecondaryButton.eb22c304.js";import{S as M}from"./SectionBorder.4934dda6.js";import"./SectionTitle.a0ab45ff.js";import"./_plugin-vue_export-helper.cdc0426e.js";const Y={key:0},Z=l("div",{class:"col-span-6"},[l("div",{class:"max-w-xl text-sm text-gray-600"}," Please provide the email address of the person you would like to add to this team. ")],-1),ee={class:"col-span-6 sm:col-span-4"},se={key:0,class:"col-span-6 lg:col-span-4"},te={class:"relative z-0 mt-1 border border-gray-200 rounded-lg cursor-pointer"},oe=["onClick"],le={class:"flex items-center"},ae={key:0,class:"ml-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},ne=l("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),re=[ne],ie={class:"mt-2 text-xs text-gray-600 text-left"},me={key:1},de={class:"space-y-6"},ce={class:"text-gray-600"},ue={class:"flex items-center"},ve=["onClick"],pe={key:2},_e={class:"space-y-6"},fe={class:"flex items-center"},be=["src","alt"],ye={class:"ml-4"},ge={class:"flex items-center"},he=["onClick"],ke={key:1,class:"ml-2 text-sm text-gray-400"},Ce=["onClick"],xe={key:0},we={class:"relative z-0 mt-1 border border-gray-200 rounded-lg cursor-pointer"},Te=["onClick"],Re={class:"flex items-center"},$e={key:0,class:"ml-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},Me=l("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Se=[Me],Ae={class:"mt-2 text-xs text-gray-600"},Ge={__name:"InvoiceCouponManager",props:{invoice:Object},setup(V){const b=V,d=h({email:"",role:null}),v=h({role:null}),w=h(),T=h(),y=k(!1),R=k(null),g=k(!1),f=k(null),L=()=>{d.post(route("team-members.store",b.team),{errorBag:"addTeamMember",preserveScroll:!0,onSuccess:()=>d.reset()})},I=t=>{H.Inertia.delete(route("team-invitations.destroy",t),{preserveScroll:!0})},N=t=>{R.value=t,v.role=t.membership.role,y.value=!0},O=()=>{v.put(route("team-members.update",[b.team,R.value]),{preserveScroll:!0,onSuccess:()=>y.value=!1})},E=()=>{g.value=!0},D=()=>{w.delete(route("team-members.destroy",[b.team,J().props.value.user]))},U=t=>{f.value=t},q=()=>{T.delete(route("team-members.destroy",[b.team,f.value]),{errorBag:"removeTeamMember",preserveScroll:!0,preserveState:!0,onSuccess:()=>f.value=null})},S=t=>b.availableRoles.find(m=>m.key===t).name;return(t,m)=>(n(),r("div",null,[t.userPermissions.canAddTeamMembers?(n(),r("div",Y,[a(M),a(W,{onSubmitted:L},{title:s(()=>[i(" Add Team Member ")]),description:s(()=>[i(" Add a new team member to your team, allowing them to collaborate with you. ")]),form:s(()=>[Z,l("div",ee,[a(P,{for:"email",value:"Email"}),a(X,{id:"email",modelValue:o(d).email,"onUpdate:modelValue":m[0]||(m[0]=e=>o(d).email=e),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"]),a(F,{message:o(d).errors.email,class:"mt-2"},null,8,["message"])]),t.availableRoles.length>0?(n(),r("div",se,[a(P,{for:"roles",value:"Role"}),a(F,{message:o(d).errors.role,class:"mt-2"},null,8,["message"]),l("div",te,[(n(!0),r(C,null,x(t.availableRoles,(e,p)=>(n(),r("button",{key:e.key,type:"button",class:u(["relative px-4 py-3 inline-flex w-full rounded-lg focus:z-10 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200",{"border-t border-gray-200 rounded-t-none":p>0,"rounded-b-none":p!=Object.keys(t.availableRoles).length-1}]),onClick:G=>o(d).role=e.key},[l("div",{class:u({"opacity-50":o(d).role&&o(d).role!=e.key})},[l("div",le,[l("div",{class:u(["text-sm text-gray-600",{"font-semibold":o(d).role==e.key}])},_(e.name),3),o(d).role==e.key?(n(),r("svg",ae,re)):c("",!0)]),l("div",ie,_(e.description),1)],2)],10,oe))),128))])])):c("",!0)]),actions:s(()=>[a(K,{on:o(d).recentlySuccessful,class:"mr-3"},{default:s(()=>[i(" Added. ")]),_:1},8,["on"]),a(z,{class:u({"opacity-25":o(d).processing}),disabled:o(d).processing},{default:s(()=>[i(" Add ")]),_:1},8,["class","disabled"])]),_:1})])):c("",!0),t.team.team_invitations.length>0&&t.userPermissions.canAddTeamMembers?(n(),r("div",me,[a(M),a(A,{class:"mt-10 sm:mt-0"},{title:s(()=>[i(" Pending Team Invitations ")]),description:s(()=>[i(" These people have been invited to your team and have been sent an invitation email. They may join the team by accepting the email invitation. ")]),content:s(()=>[l("div",de,[(n(!0),r(C,null,x(t.team.team_invitations,e=>(n(),r("div",{key:e.id,class:"flex items-center justify-between"},[l("div",ce,_(e.email),1),l("div",ue,[t.userPermissions.canRemoveTeamMembers?(n(),r("button",{key:0,class:"cursor-pointer ml-6 text-sm text-red-500 focus:outline-none",onClick:p=>I(e)}," Cancel ",8,ve)):c("",!0)])]))),128))])]),_:1})])):c("",!0),t.team.users.length>0?(n(),r("div",pe,[a(M),a(A,{class:"mt-10 sm:mt-0"},{title:s(()=>[i(" Team Members ")]),description:s(()=>[i(" All of the people that are part of this team. ")]),content:s(()=>[l("div",_e,[(n(!0),r(C,null,x(t.team.users,e=>(n(),r("div",{key:e.id,class:"flex items-center justify-between"},[l("div",fe,[l("img",{class:"w-8 h-8 rounded-full",src:e.profile_photo_url,alt:e.name},null,8,be),l("div",ye,_(e.name),1)]),l("div",ge,[t.userPermissions.canAddTeamMembers&&t.availableRoles.length?(n(),r("button",{key:0,class:"ml-2 text-sm text-gray-400 underline",onClick:p=>N(e)},_(S(e.membership.role)),9,he)):t.availableRoles.length?(n(),r("div",ke,_(S(e.membership.role)),1)):c("",!0),t.$page.props.user.id===e.id?(n(),r("button",{key:2,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:E}," Leave ")):t.userPermissions.canRemoveTeamMembers?(n(),r("button",{key:3,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:p=>U(e)}," Remove ",8,Ce)):c("",!0)])]))),128))])]),_:1})])):c("",!0),a(Q,{show:y.value,onClose:m[2]||(m[2]=e=>y.value=!1)},{title:s(()=>[i(" Manage Role ")]),content:s(()=>[R.value?(n(),r("div",xe,[l("div",we,[(n(!0),r(C,null,x(t.availableRoles,(e,p)=>(n(),r("button",{key:e.key,type:"button",class:u(["relative px-4 py-3 inline-flex w-full rounded-lg focus:z-10 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200",{"border-t border-gray-200 rounded-t-none":p>0,"rounded-b-none":p!==Object.keys(t.availableRoles).length-1}]),onClick:G=>o(v).role=e.key},[l("div",{class:u({"opacity-50":o(v).role&&o(v).role!==e.key})},[l("div",Re,[l("div",{class:u(["text-sm text-gray-600",{"font-semibold":o(v).role===e.key}])},_(e.name),3),o(v).role===e.key?(n(),r("svg",$e,Se)):c("",!0)]),l("div",Ae,_(e.description),1)],2)],10,Te))),128))])])):c("",!0)]),footer:s(()=>[a($,{onClick:m[1]||(m[1]=e=>y.value=!1)},{default:s(()=>[i(" Cancel ")]),_:1}),a(z,{class:u(["ml-3",{"opacity-25":o(v).processing}]),disabled:o(v).processing,onClick:O},{default:s(()=>[i(" Save ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),a(j,{show:g.value,onClose:m[4]||(m[4]=e=>g.value=!1)},{title:s(()=>[i(" Leave Team ")]),content:s(()=>[i(" Are you sure you would like to leave this team? ")]),footer:s(()=>[a($,{onClick:m[3]||(m[3]=e=>g.value=!1)},{default:s(()=>[i(" Cancel ")]),_:1}),a(B,{class:u(["ml-3",{"opacity-25":o(w).processing}]),disabled:o(w).processing,onClick:D},{default:s(()=>[i(" Leave ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),a(j,{show:f.value,onClose:m[6]||(m[6]=e=>f.value=null)},{title:s(()=>[i(" Remove Team Member ")]),content:s(()=>[i(" Are you sure you would like to remove this person from the team? ")]),footer:s(()=>[a($,{onClick:m[5]||(m[5]=e=>f.value=null)},{default:s(()=>[i(" Cancel ")]),_:1}),a(B,{class:u(["ml-3",{"opacity-25":o(T).processing}]),disabled:o(T).processing,onClick:q},{default:s(()=>[i(" Remove ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{Ge as default};
