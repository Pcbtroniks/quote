import{d as A,j as P,e as S,f as j,o as B,a as e,t as m,k as V,b as i,l as r,v as d,u as a,n as g}from"./app-B5gBv8jV.js";import n from"./FormError-DSpu_KXz.js";const C={key:0,class:"overlay w-full h-full absolute top-0 left-0 bg-black bg-opacity-50"},T={id:"content",role:"main",class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-xl mx-auto p-6 my-10"},M={class:"mt-7 bg-white rounded-xl shadow-lg dark:bg-gray-800 dark:border-gray-700"},U={class:"p-4 sm:p-7"},z={class:"text-center"},$={class:"block text-2xl font-bold text-gray-800 dark:text-white"},E={class:"mt-5"},N=["onSubmit"],q={class:"grid gap-y-4"},D={for:"name",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},F={class:"relative"},H=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},"Modo edición",-1),L=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},"Temporada baja",-1),K={class:"flex justify-between flex-col items-center"},O={class:"w-full mb-4"},G=e("label",{for:"adult_low",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Adulto (Temporada Baja)",-1),I={class:"relative"},J={class:"w-full"},Q=e("label",{for:"minor_low",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Menor (Temporada Baja)",-1),R={class:"relative w-full"},W=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},"Temporada Alta",-1),X={class:"flex justify-between flex-col"},Y={class:"mb-4"},Z=e("label",{for:"adult_high",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Adulto (Temporada Alta)",-1),ee={class:"relative"},te=e("label",{for:"minor_high",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Menor (Temporada Alta)",-1),se={class:"relative"},le={class:"flex justify-between flex-col items-center"},oe={class:"w-full"},ie=e("label",{for:"tour",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Tour (Solo)",-1),re={class:"relative w-full"},de={class:"flex justify-between flex-col"},ae={class:"mb-4"},ne=e("label",{for:"pack",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Tour (Paquete)",-1),ue={class:"relative"},ce=e("label",{for:"pack_double",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Paquete #2",-1),me={class:"relative"},fe=e("label",{for:"pack_multiple",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Paquete #3 o mas",-1),be={class:"relative"},pe={class:"text-sm text-gray-600 dark:text-gray-400"},_e=e("button",{type:"submit",class:"py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800"},"Guardar Cambios",-1),xe={__name:"Modal",props:{fields:Object,show:Boolean,filters:Object},emits:["close"],setup(f,{emit:k}){const t=f,l=A.useForm({activity_id:null,zone_id:null,name:null,adult_low:null,kid_low:null,adult_high:null,kid_high:null,entrance:null,tour:null,pack:null,pack_double:null,pack_multiple:null}),u=P({prices:!1,discounts:!0}),x=c=>{u.prices=!u.prices,u.discounts=!u.discounts},w=()=>{l.activity_id=t.fields.id,l.name=t.fields.name,l.entrance=t.fields.discounts.entrance,l.tour=t.fields.discounts.tour,l.pack=t.fields.discounts.pack,l.pack_double=t.fields.discounts.pack_double,l.pack_multiple=t.fields.discounts.pack_multiple,l.adult_low=t.fields.filter_prices.low.adult[0].amount,l.kid_low=t.fields.filter_prices.low.kid[0].amount,l.adult_high=t.fields.filter_prices.high.adult[0].amount,l.kid_high=t.fields.filter_prices.high.kid[0].amount,l.zone_id=t.filters.zone},y=()=>{w(),l.post(route("activities.update",t.fields.id),{preserveScroll:!0,onSuccess:()=>{Swal.fire({title:"¡Actualizado!",text:"La actividad ha sido actualizada correctamente.",icon:"success",confirmButtonText:"Aceptar",confirmButtonColor:"#3B82F6"}).then(c=>{c.isConfirmed&&k("close")})},onError:c=>{console.log(c),Swal.fire({title:"¡Error!",text:"Ha ocurrido un error al intentar actualizar la actividad.",icon:"error",confirmButtonText:"Aceptar",confirmButtonColor:"#3B82F6"})}})};return(()=>{var b,p,_,h;const c=(b=t.fields.filter_prices.low)==null?void 0:b.kid,s=(p=t.fields.filter_prices.high)==null?void 0:p.kid,o=((_=t.fields.filter_prices.low)==null?void 0:_.adult)!=null,v=(h=t.fields.filter_prices.high)==null?void 0:h.adult;c||(t.fields.filter_prices.low={kid:[{amount:0}],...t.fields.filter_prices.low}),o||(t.fields.filter_prices.low={adult:[{amount:0}],...t.fields.filter_prices.low}),s||(t.fields.filter_prices.high={kid:[{amount:0}],...t.fields.filter_prices.high}),v||(t.fields.filter_prices.high={adult:[{amount:0}],...t.fields.filter_prices.high})})(),(c,s)=>f.show?(B(),S("section",C,[e("main",T,[e("div",M,[e("div",U,[e("div",z,[e("h1",$,"Editando "+m(t.fields.name??"Actividad"),1)]),e("div",E,[e("form",{onSubmit:V(y,["prevent"])},[e("div",q,[e("div",null,[e("label",D,"Nombre de la actividad: "+m(t.fields.name??"Actividad"),1),e("div",F,[r(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.fields.name=o),type:"text",id:"name",name:"name",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm","aria-describedby":"email-error"},null,512),[[d,t.fields.name]])]),i(n,{msg:a(l).errors.name},null,8,["msg"])]),H,e("button",{type:"button",onClick:s[1]||(s[1]=o=>x()),class:"text-white font-bold bg-sky-400 py-4"},m(u.prices?"Cambiar a modificar % descuentos":"Cambiar a modificar $ Precios"),1),e("div",{class:g(u.prices==!1?"h-0 overflow-y-hidden":"h-full overflow-y-auto")},[L,e("div",K,[e("div",O,[G,e("div",I,[r(e("input",{step:"0.01","onUpdate:modelValue":s[2]||(s[2]=o=>t.fields.filter_prices.low.adult[0].amount=o),type:"number",name:"adult_low",id:"adult_low",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.filter_prices.low.adult[0].amount]])]),i(n,{msg:a(l).errors.adult_low},null,8,["msg"])]),e("div",J,[Q,e("div",R,[r(e("input",{step:"0.01","onUpdate:modelValue":s[3]||(s[3]=o=>t.fields.filter_prices.low.kid[0].amount=o),type:"number",name:"minor_low",id:"minor_low",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.filter_prices.low.kid[0].amount]])]),i(n,{msg:a(l).errors.minor_low},null,8,["msg"])])]),W,e("div",X,[e("div",Y,[Z,e("div",ee,[r(e("input",{step:"0.01","onUpdate:modelValue":s[4]||(s[4]=o=>t.fields.filter_prices.high.adult[0].amount=o),type:"number",name:"adult_high",id:"adult_high",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.filter_prices.high.adult[0].amount]])]),i(n,{msg:a(l).errors.adult_high},null,8,["msg"])]),e("div",null,[te,e("div",se,[r(e("input",{step:"0.01","onUpdate:modelValue":s[5]||(s[5]=o=>t.fields.filter_prices.high.kid[0].amount=o),type:"number",name:"minor_high",id:"minor_high",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.filter_prices.high.kid[0].amount]])]),i(n,{msg:a(l).errors.minor_high},null,8,["msg"])])])],2),e("div",{class:g(u.discounts==!1?"h-0 overflow-y-hidden":"h-full overflow-y-auto")},[e("div",le,[e("div",oe,[ie,e("div",re,[r(e("input",{"onUpdate:modelValue":s[6]||(s[6]=o=>t.fields.discounts.tour=o),type:"number",name:"tour",id:"tour",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.discounts.tour]])]),i(n,{msg:a(l).errors.tour},null,8,["msg"])])]),e("div",de,[e("div",ae,[ne,e("div",ue,[r(e("input",{"onUpdate:modelValue":s[7]||(s[7]=o=>t.fields.discounts.pack=o),type:"number",name:"pack",id:"pack",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.discounts.pack]])]),i(n,{msg:a(l).errors.pack},null,8,["msg"])]),e("div",null,[ce,e("div",me,[r(e("input",{"onUpdate:modelValue":s[8]||(s[8]=o=>t.fields.discounts.pack_double=o),type:"number",name:"pack_double",id:"pack_double",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.discounts.pack_double]])]),i(n,{msg:a(l).errors.pack_double},null,8,["msg"])]),e("div",null,[fe,e("div",be,[r(e("input",{"onUpdate:modelValue":s[9]||(s[9]=o=>t.fields.discounts.pack_multiple=o),type:"number",name:"pack_multiple",id:"pack_multiple",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.discounts.pack_multiple]])]),i(n,{msg:a(l).errors.pack_multiple},null,8,["msg"])])])],2),e("p",pe,"Actualizando: "+m(u.prices?"Precios ($)":"Descuentos (%)"),1),_e,e("button",{onClick:s[10]||(s[10]=o=>c.$emit("close")),type:"button",class:"py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800"},"Cerrar Modal")])],40,N)])])])])])):j("",!0)}};export{xe as default};
