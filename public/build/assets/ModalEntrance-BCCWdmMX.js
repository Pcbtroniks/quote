import{d as x,j as w,e as y,f as k,o as v,a as e,t as m,k as j,b as r,l as a,v as d,u as n,n as b}from"./app-CPE2G4wC.js";import{S as A}from"./sweetalert2.all-aOwtR4aa.js";import u from"./FormError-Q8qME-fl.js";const C={key:0,class:"overlay w-full h-full absolute top-0 left-0 bg-black bg-opacity-50"},B={id:"content",role:"main",class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-xl mx-auto p-6 my-10"},V={class:"mt-7 bg-white rounded-xl shadow-lg dark:bg-gray-800 dark:border-gray-700"},S={class:"p-4 sm:p-7"},T={class:"text-center"},z={class:"block text-2xl font-bold text-gray-800 dark:text-white"},M=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},null,-1),U={class:"mt-5"},$=["onSubmit"],E={class:"grid gap-y-4"},N={for:"name",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},D={class:"relative"},P=e("p",{class:"hidden mt-2 text-sm text-gray-600 dark:text-gray-400"},"Precios por temporada",-1),F=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},"Temporada baja",-1),O={class:"flex justify-between flex-col items-center"},G={class:"w-full mb-4"},L=e("label",{for:"adult_low",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Adulto (Temporada Baja)",-1),q={class:"relative"},H={class:"w-full"},I=e("label",{for:"minor_low",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Menor (Temporada Baja)",-1),J={class:"relative w-full"},K=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},"Temporada Alta",-1),Q={class:"flex justify-between flex-col"},R={class:"mb-4"},W=e("label",{for:"adult_high",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Adulto (Temporada Alta)",-1),X={class:"relative"},Y=e("label",{for:"minor_high",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Menor (Temporada Alta)",-1),Z={class:"relative"},ee={class:"flex justify-between flex-col items-center"},te={class:"w-full mb-4"},se=e("label",{for:"entrance",class:"block text-sm font-bold ml-1 mb-2 dark:text-white"},"Entrada",-1),oe={class:"relative"},le={class:"text-sm text-gray-600 dark:text-gray-400"},ie=e("button",{type:"submit",class:"py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800"},"Guardar Cambios",-1),ne={__name:"ModalEntrance",props:{fields:Object,show:Boolean,filters:Object},emits:["close"],setup(f,{emit:p}){const t=f,s=x.useForm({activity_id:null,zone_id:null,name:null,adult_low:null,kid_low:null,adult_high:null,kid_high:null,entrance:null,tour:null,pack:null,pack_double:null,pack_multiple:null}),i=w({prices:!1,discounts:!0}),_=c=>{i.prices=!i.prices,i.discounts=!i.discounts},h=()=>{s.activity_id=t.fields.id,s.name=t.fields.name,s.entrance=t.fields.discounts.entrance,s.tour=t.fields.discounts.tour,s.pack=t.fields.discounts.pack,s.pack_double=t.fields.discounts.pack_double,s.pack_multiple=t.fields.discounts.pack_multiple,s.adult_low=t.fields.filter_prices.low.adult[0].amount,s.kid_low=t.fields.filter_prices.low.kid[0].amount,s.adult_high=t.fields.filter_prices.high.adult[0].amount,s.kid_high=t.fields.filter_prices.high.kid[0].amount,s.zone_id=t.filters.zone},g=()=>{h(),s.post(route("activities.update",t.fields.id),{preserveScroll:!0,onSuccess:()=>{A.fire({title:"Â¡Actualizado!",text:"La actividad ha sido actualizada correctamente.",icon:"success",confirmButtonText:"Aceptar",confirmButtonColor:"#3B82F6"}).then(c=>{c.isConfirmed&&p("close")})}})};return console.log(t.fields),t.fields.filter_prices.length==0&&(t.fields.filter_prices={low:{adult:[{amount:0}],kid:[{amount:0}]},high:{adult:[{amount:0}],kid:[{amount:0}]}}),(c,o)=>f.show?(v(),y("section",C,[e("main",B,[e("div",V,[e("div",S,[e("div",T,[e("h1",z,"Editando "+m(t.fields.name??"Actividad"),1),M]),e("div",U,[e("form",{onSubmit:j(g,["prevent"])},[e("div",E,[e("div",null,[e("label",N,"Nombre de la actividad: "+m(t.fields.name??"Actividad"),1),e("div",D,[a(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>t.fields.name=l),type:"text",id:"name",name:"name",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm","aria-describedby":"email-error"},null,512),[[d,t.fields.name]])]),r(u,{msg:n(s).errors.name},null,8,["msg"])]),P,e("button",{type:"button",onClick:o[1]||(o[1]=l=>_()),class:"text-white font-bold bg-sky-400 py-4"},m(i.prices?"Cambiar a modificar descuentos (%)":"Cambiar a modificar Precio ($)"),1),e("div",{class:b(i.prices==!1?"h-0 overflow-y-hidden":"h-full overflow-y-auto")},[F,e("div",O,[e("div",G,[L,e("div",q,[a(e("input",{step:"0.01","onUpdate:modelValue":o[2]||(o[2]=l=>t.fields.filter_prices.low.adult[0].amount=l),type:"number",name:"adult_low",id:"adult_low",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.filter_prices.low.adult[0].amount]])]),r(u,{msg:n(s).errors.adult_low},null,8,["msg"])]),e("div",H,[I,e("div",J,[a(e("input",{step:"0.01","onUpdate:modelValue":o[3]||(o[3]=l=>t.fields.filter_prices.low.kid[0].amount=l),type:"number",name:"minor_low",id:"minor_low",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.filter_prices.low.kid[0].amount]])]),r(u,{msg:n(s).errors.minor_low},null,8,["msg"])])]),K,e("div",Q,[e("div",R,[W,e("div",X,[a(e("input",{step:"0.01","onUpdate:modelValue":o[4]||(o[4]=l=>t.fields.filter_prices.high.adult[0].amount=l),type:"number",name:"adult_high",id:"adult_high",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.filter_prices.high.adult[0].amount]])]),r(u,{msg:n(s).errors.adult_high},null,8,["msg"])]),e("div",null,[Y,e("div",Z,[a(e("input",{step:"0.01","onUpdate:modelValue":o[5]||(o[5]=l=>t.fields.filter_prices.high.kid[0].amount=l),type:"number",name:"minor_high",id:"minor_high",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.filter_prices.high.kid[0].amount]])]),r(u,{msg:n(s).errors.minor_high},null,8,["msg"])])])],2),e("div",{class:b(i.discounts==!1?"h-0 overflow-y-hidden":"h-full overflow-y-auto")},[e("div",ee,[e("div",te,[se,e("div",oe,[a(e("input",{"onUpdate:modelValue":o[6]||(o[6]=l=>t.fields.discounts.entrance=l),type:"number",name:"entrance",id:"entrance",class:"w-full py-3 px-4 block border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"},null,512),[[d,t.fields.discounts.entrance]])]),r(u,{msg:n(s).errors.entrance},null,8,["msg"])])])],2),e("p",le,"Actualizando: "+m(i.prices?"Precios ($)":"Descuentos (%)"),1),ie,e("button",{onClick:o[7]||(o[7]=l=>c.$emit("close")),type:"button",class:"py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800"},"Cerrar Modal")])],40,$)])])])])])):k("",!0)}};export{ne as default};
