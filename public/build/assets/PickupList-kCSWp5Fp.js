import{e as a,o as i,a as t,g as h,t as n,u as d,b as f,F as u,h as p,O as v,L as y}from"./app-DV60zx4p.js";import{S as g}from"./sweetalert2.all-Cb_x15Wz.js";import{d as w}from"./index-DrlXbJZr.js";import{_ as k}from"./InputText-Duk6GhFp.js";import{_ as z}from"./ModernSwitch-BGx-TmPO.js";import{g as C,z as B,P as T,b as N,f as P}from"./Utils-sBlKm8uS.js";const j={class:"w-full antialiased bg-gray-100 text-gray-600"},I={class:"flex flex-col justify-center h-full"},A={class:"w-full mx-auto bg-white shadow-lg rounded-sm"},D={class:"px-5 pt-4 py-4 pb-8 border-b border-gray-100"},F={class:"font-bold text-sky-500 text-2xl border-b border-gray-100 pb-4"},L=t("br",{class:"md:hidden"},null,-1),O={class:"my-4"},Z={class:"md:mt-8 md:flex md:gap-3 md:items-center"},H={class:"md:w-2/6"},K=t("label",{for:"tour",class:"mb-3 block text-base font-medium text-gray-700"}," Cambiar Tour ",-1),S=t("option",{value:"null",selected:"",disabled:""},"-- Tour --",-1),V=["value"],E={key:1},$=t("div",{class:"h-4 md:hidden"},null,-1),q={class:"md:w-1/6"},M=t("label",{for:"zone",class:"mb-3 block text-base font-medium text-gray-700"}," Cambiar Zona ",-1),U=t("option",{value:"null",selected:"",disabled:""},"-- Zona --",-1),G=["value"],J={key:1},Q={class:"p-3"},R={class:"overflow-x-auto"},W={class:"table-auto w-full"},X=t("thead",{class:"text-xs font-semibold uppercase text-gray-400 bg-gray-50"},[t("tr",null,[t("th",{class:"p-2 whitespace-nowrap"},[t("div",{class:"font-semibold text-left"},"Hotel")]),t("th",{class:"p-2 whitespace-nowrap"},[t("div",{class:"font-semibold text-left"},"Hora del pickup")]),t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-right text-gray-400"},[t("svg",{color:"currentColor",class:"w-6 text-right fill-current text-grey-dark",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"CurrentColor",viewBox:"0 0 20 20"},[t("path",{d:"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})])])])],-1),Y={class:"text-sm divide-y divide-gray-100"},tt={class:"h-12 hover:bg-sky-300"},et={class:"p-2 whitespace-nowrap"},st={class:"flex items-center"},ot={class:"font-medium text-gray-800"},at={class:"p-2 whitespace-nowrap"},it={class:"flex items-center"},rt={class:"font-medium text-gray-800 hover:text-green-500"},nt={class:"font-medium text-gray-800"},ct=t("td",{class:"p-2 whitespace-nowrap"},[t("div",{class:"flex items-center"},[t("div",{class:"font-medium text-gray-400"},"...")])],-1),lt={key:1,class:"h-12 hover:bg-sky-300 text-center"},dt=t("td",{colspan:"3",class:"p-2 whitespace-nowrap text-center"},[t("div",{class:"flex items-center justify-center text-center"},[t("div",{class:"text-center font-bold text-sky-400"}," No hay informaciÃ³n dispobible")])],-1),ut=[dt],xt={__name:"PickupList",props:{pickups:Object,tours:Object,params:Object},setup(b){const s=b,x=()=>g.mixin({toast:!0,position:"top-right",iconColor:"white",customClass:{popup:"colored-toast"},showConfirmButton:!1,timer:1500,timerProgressBar:!0}),m=async(c,o,e)=>{if(o==s.pickups[e].pickup_time.slice(0,5)||o==null||o=="")return null;try{const r=P(o),l=await y.post(route("pickups.update",c),{pickup_time:r});s.pickups[e].pickup_time=r,await x().fire({icon:"success",title:"Hora de pickup actualizada"})}catch(r){console.log(r),alert("Lo sentimos, ocurrio un error al actualizar la hora del pickup. actualiza la pagina y vuelve a intentarlo.")}},_=(c,o)=>{const e=c??11,r=o??1;w.Inertia.visit(route("pickups",{activity:e,zone:r}))};return(c,o)=>(i(),a("section",j,[t("div",I,[t("div",A,[t("header",D,[t("h1",F,[h(n(d(C)(s.params.activity,s.tours))+" ",1),L,h(" en "+n(d(B)(s.params.zone)),1)]),t("div",O,[f(z)]),t("div",Z,[t("div",H,[K,t("select",{id:"tour",onChange:o[0]||(o[0]=e=>_(e.target.value,s.params.zone)),name:"tour",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},[S,s.tours?(i(!0),a(u,{key:0},p(s.tours,e=>(i(),a("option",{class:"capitalize",value:e.id},n(e.name),9,V))),256)):(i(),a("option",E,"Tours no disponibles"))],32)]),$,t("div",q,[M,t("select",{id:"zone",onChange:o[1]||(o[1]=e=>_(s.params.activity,d(T)(e.target.value))),name:"zone",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},[U,s.tours?(i(!0),a(u,{key:0},p(d(N)(),e=>(i(),a("option",{class:"capitalize",value:e.id},n(e.name),9,G))),256)):(i(),a("option",J,"Tours no disponibles"))],32)])])]),t("div",Q,[t("div",R,[t("table",W,[X,t("tbody",Y,[s.pickups&&s.pickups.length>0?(i(!0),a(u,{key:0},p(s.pickups,(e,r)=>(i(),a("tr",tt,[t("td",et,[t("div",st,[t("div",ot,n(e.hotel),1)])]),t("td",at,[t("div",it,[t("div",rt,[t("div",nt,[f(k,{placeholder:"00:00",value:e.pickup_time.slice(0,5),id:"PickupTime",name:"PickupTime",onBlur:l=>m(e.id,l.target.value,r),onKeydown:v(l=>m(e.id,l.target.value,r),["enter"])},null,8,["value","onBlur","onKeydown"])])])])]),ct]))),256)):(i(),a("tr",lt,ut))])])])])])])]))}};export{xt as default};
