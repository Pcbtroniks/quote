import{r as k,e as l,o as r,a as t,g as m,t as d,b as u,F as f,h as v,O as B,L as C}from"./app-7bHLq7ZN.js";import{d as N}from"./index-DcLsLfUg.js";import{_ as x}from"./InputText-N_SdMyrq.js";import{_ as T}from"./ModernSwitch-CDGRq_1R.js";import{v as z,f as F}from"./Utils-sBlKm8uS.js";import{B as b,s as P}from"./Alerts-BK3dPl6R.js";import"./sweetalert2.all-DEDGJA4x.js";const j={class:"w-full antialiased bg-gray-100 text-gray-600"},H={class:"flex flex-col justify-center h-full"},L={class:"w-full mx-auto bg-white shadow-lg rounded-sm"},O={class:"px-5 pt-4 py-4 pb-8 border-b border-gray-100"},D={class:"font-bold text-sky-500 text-2xl border-b border-gray-100 pb-4"},E=t("br",{class:"md:hidden"},null,-1),I={class:"capitalize"},K={class:"my-4"},S={class:"md:mt-8 md:flex md:gap-3 md:items-center"},V={class:"md:w-2/6"},q=t("label",{for:"hotel",class:"mb-3 block text-base font-medium text-gray-700"}," Cambiar hotel ",-1),$=t("option",{value:"null",selected:"",disabled:""},"-- Hotel --",-1),A=["value"],M={key:1},U=t("div",{class:"h-4 md:hidden"},null,-1),G={class:"md:w-2/6"},J=t("label",{for:"valueFilter",class:"mb-3 block text-base font-medium text-gray-700"}," Tour ",-1),Q={class:"p-3"},R={class:"overflow-x-auto"},W={class:"table-auto w-full"},X=t("thead",{class:"text-xs font-semibold uppercase text-gray-400 bg-gray-50"},[t("tr",null,[t("th",{class:"p-2 whitespace-nowrap"},[t("div",{class:"font-semibold text-left"},"Parque")]),t("th",{class:"p-2 whitespace-nowrap"},[t("div",{class:"font-semibold text-left"},"Hora del pickup")]),t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-right text-gray-400"},[t("svg",{color:"currentColor",class:"w-6 text-right fill-current text-grey-dark",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"CurrentColor",viewBox:"0 0 20 20"},[t("path",{d:"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})])])])],-1),Y={class:"text-sm divide-y divide-gray-100"},Z={class:"h-12 hover:bg-sky-300"},tt={class:"p-2 whitespace-nowrap"},et={class:"flex items-center"},st={class:"font-medium text-gray-800"},ot={class:"p-2 whitespace-nowrap"},it={class:"flex items-center"},at={class:"font-medium text-gray-800 hover:text-green-500"},lt={class:"font-medium text-gray-800"},rt=t("td",{class:"p-2 whitespace-nowrap"},[t("div",{class:"flex items-center"},[t("div",{class:"font-medium text-gray-400"},"...")])],-1),ct={key:1,class:"h-12 hover:bg-sky-300 text-center"},nt=t("td",{colspan:"3",class:"p-2 whitespace-nowrap text-center"},[t("div",{class:"flex items-center justify-center text-center"},[t("div",{class:"text-center font-bold text-sky-400"}," No hay informaciÃ³n dispobible")])],-1),dt=[nt],pt={class:"text-xs"},bt={__name:"PickupListByHotel",props:{pickups:Object,hotels:Object,params:Object},setup(g){const o=g,h=async(i,e,n)=>{if(e==o.pickups[n].pickup_time.slice(0,5)||e==null||e=="")return null;if(!z(e))return b();try{const a=F(e),s=await C.post(route("pickups.update",i),{pickup_time:a});o.pickups[n].pickup_time=a,await P().fire({icon:"success",title:"Hora de pickup actualizada"})}catch(a){console.log(a),b()}},y=i=>{const e=i??11;N.Inertia.visit(route("pickups.by.hotel",{hotel:e}),{preserveState:!0,preserveScroll:!0})},c=k([]),w=i=>{if(i==null||i=="")return null;i.length<3&&(c.value=o.pickups),c.value=o.pickups.filter(e=>e.activity.toLowerCase().includes(i.toLowerCase()))};return(i,e)=>{var n,a;return r(),l("section",j,[t("div",H,[t("div",L,[t("header",O,[t("h1",D,[m("Hotel"),E,m(" -"),t("span",I,d(((n=o.pickups[0])==null?void 0:n.hotel)??"N/D"),1)]),t("div",K,[u(T,{option:"opt-2"})]),t("div",S,[t("div",V,[q,t("select",{id:"hotel",onChange:e[0]||(e[0]=s=>y(s.target.value)),name:"hotel",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},[$,o.hotels?(r(!0),l(f,{key:0},v(o.hotels,s=>(r(),l("option",{class:"capitalize",value:s.id},d(s.name),9,A))),256)):(r(),l("option",M,"No disponible"))],32)]),U,t("div",G,[J,u(x,{id:"valueFilter",onInput:e[1]||(e[1]=s=>w(s.target.value)),placeholder:"buscar tour...",class:"w-full"})])])]),t("div",Q,[t("div",R,[t("table",W,[X,t("tbody",Y,[((a=o.pickups)==null?void 0:a.length)>0?(r(!0),l(f,{key:0},v(c.value.length>0?c.value:o.pickups,(s,_)=>(r(),l("tr",Z,[t("td",tt,[t("div",et,[t("div",st,d(s.activity),1)])]),t("td",ot,[t("div",it,[t("div",at,[t("div",lt,[u(x,{placeholder:"00:00",value:s.pickup_time.slice(0,5),id:"PickupTime",name:"PickupTime",onBlur:p=>h(s.id,p.target.value,_),onKeydown:B(p=>h(s.id,p.target.value,_),["enter"])},null,8,["value","onBlur","onKeydown"])])])])]),rt]))),256)):(r(),l("tr",ct,dt))])])]),t("div",pt,[t("p",null," pickups: "+d(c.value.length>0?c.value.length:o.pickups.length),1)])])])])])}}};export{bt as default};
