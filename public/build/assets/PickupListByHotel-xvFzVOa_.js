import{r as P,e as l,o as c,a as t,g as m,t as p,b as h,F as f,h as v,M as N,J as b}from"./app-CXl_UXLB.js";import{d as T}from"./index-CFBHgUyr.js";import{_ as x}from"./InputText-Cas-AEIe.js";import{_ as z}from"./ModernSwitch-smGDKD0S.js";import{v as F,f as j}from"./Utils-sBlKm8uS.js";import{B as g,s as y}from"./Alerts-gHCxRo4Y.js";import"./sweetalert2.all-C2Lo8v1S.js";const H={class:"w-full antialiased bg-gray-100 text-gray-600"},E={class:"flex flex-col justify-center h-full"},L={class:"w-full mx-auto bg-white shadow-lg rounded-sm"},D={class:"px-5 pt-4 py-4 pb-8 border-b border-gray-100"},I={class:"font-bold text-sky-500 text-2xl border-b border-gray-100 pb-4"},K=t("br",{class:"md:hidden"},null,-1),O={class:"capitalize"},S={class:"my-4"},V={class:"md:mt-8 md:flex md:gap-3 md:items-center"},$={class:"md:w-2/6"},q=t("label",{for:"hotel",class:"mb-3 block text-base font-medium text-gray-700"}," Cambiar hotel ",-1),M=t("option",{value:"null",selected:"",disabled:""},"-- Hotel --",-1),A=["value"],J={key:1},U=t("div",{class:"h-4 md:hidden"},null,-1),G={class:"md:w-2/6"},Q=t("label",{for:"valueFilter",class:"mb-3 block text-base font-medium text-gray-700"}," Tour ",-1),R={class:"p-3"},W={class:"overflow-x-auto"},X={class:"table-auto w-full"},Y=t("thead",{class:"text-xs font-semibold uppercase text-gray-400 bg-gray-50"},[t("tr",null,[t("th",{class:"p-2 whitespace-nowrap"},[t("div",{class:"font-semibold text-left"},"Parque")]),t("th",{class:"p-2 whitespace-nowrap"},[t("div",{class:"font-semibold text-left"},"Hora del pickup")]),t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-right text-gray-400"},[t("svg",{color:"currentColor",class:"w-6 text-right fill-current text-grey-dark",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"CurrentColor",viewBox:"0 0 20 20"},[t("path",{d:"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})])])])],-1),Z={class:"text-sm divide-y divide-gray-100"},tt={class:"h-12 hover:bg-sky-300"},et={class:"p-2 whitespace-nowrap"},st={class:"flex items-center"},ot={class:"font-medium text-gray-800"},it={class:"p-2 whitespace-nowrap"},at={class:"flex items-center"},rt={class:"font-medium text-gray-800 hover:text-green-500"},lt={class:"font-medium text-gray-800"},ct={class:"p-2 whitespace-nowrap"},nt={class:"flex items-center"},dt=["onClick"],pt={key:1,class:"h-12 hover:bg-sky-300 text-center"},ut=t("td",{colspan:"3",class:"p-2 whitespace-nowrap text-center"},[t("div",{class:"flex items-center justify-center text-center"},[t("div",{class:"text-center font-bold text-sky-400"}," No hay informaciÃ³n dispobible")])],-1),ht=[ut],_t={class:"text-xs"},wt={__name:"PickupListByHotel",props:{pickups:Object,hotels:Object,params:Object},setup(w){const o=w,_=async(i,e,a)=>{if(e==o.pickups[a].pickup_time.slice(0,5)||e==null||e=="")return null;if(!F(e))return g();try{const r=j(e),s=await b.post(route("pickups.update",i),{pickup_time:r});o.pickups[a].pickup_time=r,await y().fire({icon:"success",title:"Hora de pickup actualizada"})}catch(r){console.log(r),g()}},k=i=>{const e=i??11;T.Inertia.visit(route("pickups.by.hotel",{hotel:e}),{preserveState:!0,preserveScroll:!0})},n=P([]),B=i=>{if(i==null||i=="")return null;i.length<3&&(n.value=o.pickups),n.value=o.pickups.filter(e=>e.activity.toLowerCase().includes(i.toLowerCase()))},C=async(i,e)=>{try{const a=await b.post(route("pickups.archive",i));o.pickups.splice(e,1),await y().fire({icon:"success",title:"Pickup eliminado"})}catch(a){console.log(a)}};return(i,e)=>{var a,r;return c(),l("section",H,[t("div",E,[t("div",L,[t("header",D,[t("h1",I,[m("Hotel"),K,m(" -"),t("span",O,p(((a=o.pickups[0])==null?void 0:a.hotel)??"N/D"),1)]),t("div",S,[h(z,{option:"opt-2"})]),t("div",V,[t("div",$,[q,t("select",{id:"hotel",onChange:e[0]||(e[0]=s=>k(s.target.value)),name:"hotel",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},[M,o.hotels?(c(!0),l(f,{key:0},v(o.hotels,s=>(c(),l("option",{class:"capitalize",value:s.id},p(s.name),9,A))),256)):(c(),l("option",J,"No disponible"))],32)]),U,t("div",G,[Q,h(x,{id:"valueFilter",onInput:e[1]||(e[1]=s=>B(s.target.value)),placeholder:"buscar tour...",class:"w-full"})])])]),t("div",R,[t("div",W,[t("table",X,[Y,t("tbody",Z,[((r=o.pickups)==null?void 0:r.length)>0?(c(!0),l(f,{key:0},v(n.value.length>0?n.value:o.pickups,(s,u)=>(c(),l("tr",tt,[t("td",et,[t("div",st,[t("div",ot,p(s.activity),1)])]),t("td",it,[t("div",at,[t("div",rt,[t("div",lt,[h(x,{placeholder:"00:00",value:s.pickup_time.slice(0,5),id:"PickupTime",name:"PickupTime",onBlur:d=>_(s.id,d.target.value,u),onKeydown:N(d=>_(s.id,d.target.value,u),["enter"])},null,8,["value","onBlur","onKeydown"])])])])]),t("td",ct,[t("div",nt,[t("button",{onClick:d=>C(s.id,u),class:"border-2 border-amber-500 text-amber-500 hover:bg-amber-500 hover:text-white py-2 px-4 rounded-xl duration-150 hover:shadow-md hover:shadow-amber-600 active:bg-amber-600"},"Eliminar",8,dt)])])]))),256)):(c(),l("tr",pt,ht))])])]),t("div",_t,[t("p",null," pickups: "+p(n.value.length>0?n.value.length:o.pickups.length),1)])])])])])}}};export{wt as default};
