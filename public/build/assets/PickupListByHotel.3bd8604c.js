import{r as N,o as l,d as c,a as t,f as x,t as d,b as _,F as b,h as y,y as T,N as z,J as F}from"./app.eda46cef.js";import{_ as g,a as P}from"./sweetalert2.all.f2a1a48b.js";import{v as j,f as H}from"./Utils.3889d632.js";import{B as w,s as L}from"./Alerts.342fa25b.js";const D={class:"w-full antialiased bg-gray-100 text-gray-600"},I={class:"flex flex-col justify-center h-full"},K={class:"w-full mx-auto bg-white shadow-lg rounded-sm"},O={class:"px-5 pt-4 py-4 pb-8 border-b border-gray-100"},S={class:"font-bold text-sky-500 text-2xl border-b border-gray-100 pb-4"},V=t("br",{class:"md:hidden"},null,-1),q={class:"capitalize"},E={class:"my-4"},$={class:"md:mt-8 md:flex md:gap-3 md:items-center"},A={class:"md:w-2/6"},J=t("label",{for:"hotel",class:"mb-3 block text-base font-medium text-gray-700"}," Cambiar hotel ",-1),M=t("option",{value:"null",selected:"",disabled:""},"-- Hotel --",-1),U=["value"],G={key:1},Q=t("div",{class:"h-4 md:hidden"},null,-1),R={class:"md:w-2/6"},W=t("label",{for:"valueFilter",class:"mb-3 block text-base font-medium text-gray-700"}," Tour ",-1),X={class:"p-3"},Y={class:"overflow-x-auto"},Z={class:"table-auto w-full"},tt=t("thead",{class:"text-xs font-semibold uppercase text-gray-400 bg-gray-50"},[t("tr",null,[t("th",{class:"p-2 whitespace-nowrap"},[t("div",{class:"font-semibold text-left"},"Parque")]),t("th",{class:"p-2 whitespace-nowrap"},[t("div",{class:"font-semibold text-left"},"Hora del pickup")]),t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-right text-gray-400"},[t("svg",{color:"currentColor",class:"w-6 text-right fill-current text-grey-dark",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"CurrentColor",viewBox:"0 0 20 20"},[t("path",{d:"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})])])])],-1),et={class:"text-sm divide-y divide-gray-100"},st={class:"h-12 hover:bg-sky-300"},ot={class:"p-2 whitespace-nowrap"},at={class:"flex items-center"},it={class:"font-medium text-gray-800"},lt={class:"p-2 whitespace-nowrap"},ct={class:"flex items-center"},rt={class:"font-medium text-gray-800 hover:text-green-500"},nt={class:"font-medium text-gray-800"},dt=t("td",{class:"p-2 whitespace-nowrap"},[t("div",{class:"flex items-center"},[t("div",{class:"font-medium text-gray-400"},"...")])],-1),pt={key:1,class:"h-12 hover:bg-sky-300 text-center"},ut=t("td",{colspan:"3",class:"p-2 whitespace-nowrap text-center"},[t("div",{class:"flex items-center justify-center text-center"},[t("div",{class:"text-center font-bold text-sky-400"}," No hay informaci\xF3n dispobible")])],-1),_t=[ut],ht={class:"text-xs"},bt={__name:"PickupListByHotel",props:{pickups:Object,hotels:Object,params:Object},setup(k){const a=k,h=async(s,e,r)=>{if(e==a.pickups[r].pickup_time.slice(0,5)||e==null||e=="")return null;if(!j(e))return w();try{const i=H(e),p=await F.post(route("pickups.update",s),{pickup_time:i});a.pickups[r].pickup_time=i,await L().fire({icon:"success",title:"Hora de pickup actualizada"})}catch(i){console.log(i),w()}},B=s=>{const e=s!=null?s:11;T.Inertia.visit(route("pickups.by.hotel",{hotel:e}),{preserveState:!0,preserveScroll:!0})},n=N([]),C=s=>{if(s==null||s=="")return null;s.length<3&&(n.value=a.pickups),n.value=a.pickups.filter(e=>e.activity.toLowerCase().includes(s.toLowerCase()))};return(s,e)=>{var r,i,p,m,f;return l(),c("section",D,[t("div",I,[t("div",K,[t("header",O,[t("h1",S,[x("Hotel"),V,x(" -"),t("span",q,d((i=(r=a.pickups[0])==null?void 0:r.hotel)!=null?i:"N/D"),1)]),t("div",E,[_(P,{option:"opt-2"})]),t("div",$,[t("div",A,[J,t("select",{id:"hotel",onChange:e[0]||(e[0]=o=>B(o.target.value)),name:"hotel",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},[M,a.hotels?(l(!0),c(b,{key:0},y(a.hotels,o=>(l(),c("option",{class:"capitalize",value:o.id},d(o.name),9,U))),256)):(l(),c("option",G,"No disponible"))],32)]),Q,t("div",R,[W,_(g,{id:"valueFilter",onInput:e[1]||(e[1]=o=>C(o.target.value)),placeholder:"buscar tour...",class:"w-full"})])])]),t("div",X,[t("div",Y,[t("table",Z,[tt,t("tbody",et,[((p=a.pickups)==null?void 0:p.length)>0?(l(!0),c(b,{key:0},y(n.value.length>0?n.value:a.pickups,(o,v)=>(l(),c("tr",st,[t("td",ot,[t("div",at,[t("div",it,d(o.activity),1)])]),t("td",lt,[t("div",ct,[t("div",rt,[t("div",nt,[_(g,{placeholder:"00:00",value:o.pickup_time.slice(0,5),id:"PickupTime",name:"PickupTime",onBlur:u=>h(o.id,u.target.value,v),onKeydown:z(u=>h(o.id,u.target.value,v),["enter"])},null,8,["value","onBlur","onKeydown"])])])])]),dt]))),256)):(l(),c("tr",pt,_t))])])]),t("div",ht,[t("p",null," pickups: "+d((f=(m=a.pickups)==null?void 0:m.length)!=null?f:0),1)])])])])])}}};export{bt as default};
