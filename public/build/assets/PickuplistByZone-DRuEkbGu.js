import{r as v,e as r,o as l,a as e,g as x,t as n,u,b as m,w as C,d as T,F as h,h as _,M as N,J as y}from"./app-CqaSUvss.js";import{d as F}from"./index-BlTL6C8R.js";import{_ as g}from"./InputText-BnD4oVtB.js";import{_ as P}from"./ModernSwitch-DO2kHpKV.js";import{g as H,z as I,b as j,f as E}from"./Utils-sBlKm8uS.js";import{s as w,B as Z}from"./Alerts-BOVIEyWE.js";import"./sweetalert2.all-9phAqy9a.js";const A={class:"w-full antialiased bg-gray-100 text-gray-600"},L={class:"flex flex-col justify-center h-full"},$={class:"w-full mx-auto bg-white shadow-lg rounded-sm"},D={class:"px-5 pt-4 py-4 pb-8 border-b border-gray-100"},K={class:"font-bold text-sky-500 text-2xl border-b border-gray-100 pb-4"},O=e("br",{class:"md:hidden"},null,-1),V=e("button",{class:"bg-sky-500 hover:bg-sky-600 text-white font-bold py-2 px-4 rounded-sm mt-4"}," Crear pickup ",-1),M={class:"my-4"},q={class:"md:mt-8 md:flex md:gap-3 md:items-center"},J={class:"md:w-2/6"},S=e("label",{for:"tour",class:"mb-3 block text-base font-medium text-gray-700"}," Tour ",-1),U=e("option",{value:"null",selected:"",disabled:""},"-- Tour --",-1),G=["value","selected"],Q={key:1},R=e("div",{class:"h-4 md:hidden"},null,-1),W={class:"md:w-1/6"},X=e("label",{for:"zone",class:"mb-3 block text-base font-medium text-gray-700"}," Zona ",-1),Y=e("option",{value:"null",selected:"",disabled:""},"-- Zona --",-1),ee=["value","selected"],te={key:1},se=e("div",{class:"h-4 md:hidden"},null,-1),oe={class:"md:w-2/6"},ae=e("label",{for:"hotelNameFilter",class:"mb-3 block text-base font-medium text-gray-700"}," Hotel ",-1),ie={class:"p-3"},re={class:"overflow-x-auto"},le={class:"table-auto w-full"},ce=e("thead",{class:"text-xs font-semibold uppercase text-gray-400 bg-gray-50"},[e("tr",null,[e("th",{class:"p-2 whitespace-nowrap"},[e("div",{class:"font-semibold text-left"},"Hotel")]),e("th",{class:"p-2 whitespace-nowrap"},[e("div",{class:"font-semibold text-left"},"Hora del pickup")]),e("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-right text-gray-400"},[e("svg",{color:"currentColor",class:"w-6 text-right fill-current text-grey-dark",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"CurrentColor",viewBox:"0 0 20 20"},[e("path",{d:"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})])])])],-1),ne={class:"text-sm divide-y divide-gray-100"},de={class:"h-12 hover:bg-sky-300"},pe={class:"p-2 whitespace-nowrap"},ue={class:"flex items-center"},me={class:"font-medium text-gray-800"},he={class:"p-2 whitespace-nowrap"},_e={class:"flex items-center"},be={class:"font-medium text-gray-800 hover:text-green-500"},fe={class:"font-medium text-gray-800"},ve={class:"p-2 whitespace-nowrap"},xe={class:"flex items-center"},ye=["onClick"],ge={key:1,class:"h-12 hover:bg-sky-300 text-center"},we=e("td",{colspan:"3",class:"p-2 whitespace-nowrap text-center"},[e("div",{class:"flex items-center justify-center text-center"},[e("div",{class:"text-center font-bold text-sky-400"}," No hay informaciÃ³n dispobible")])],-1),ke=[we],ze={class:"text-xs"},Ie={__name:"PickuplistByZone",props:{pickups:Object,tours:Object,params:Object},setup(k){const s=k,b=async(a,o,i)=>{if(o==s.pickups[i].pickup_time.slice(0,5)||o==null||o=="")return null;try{const t=E(o),d=await y.post(route("pickups.update",a),{pickup_time:t});s.pickups[i].pickup_time=t,await w().fire({icon:"success",title:"Hora de pickup actualizada"})}catch(t){console.log(t),Z()}},f=(a,o)=>{const i=a??11,t=o??1;F.Inertia.visit(route("pickups.by.zone",{activity:i,zone:t}))};v([]);const c=v([]),z=a=>{a.length<3&&(c.value=s.pickups),c.value=s.pickups.filter(o=>o.hotel.toLowerCase().includes(a.toLowerCase()))},B=async(a,o)=>{try{const i=await y.post(route("pickups.archive",a));s.pickups.splice(o,1),await w().fire({icon:"success",title:"Pickup eliminado"})}catch(i){console.log(i)}};return(a,o)=>{var i;return l(),r("section",A,[e("div",L,[e("div",$,[e("header",D,[e("h1",K,[x(n(u(H)(s.params.activity,s.tours))+" ",1),O,x(" en "+n(u(I)(s.params.zone)),1)]),e("div",null,[m(u(T.Link),{href:a.route("pickups.create")},{default:C(()=>[V]),_:1},8,["href"])]),e("div",M,[m(P,{option:"opt-1"})]),e("div",q,[e("div",J,[S,e("select",{id:"tour",onChange:o[0]||(o[0]=t=>f(t.target.value,s.params.zone)),name:"tour",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},[U,s.tours?(l(!0),r(h,{key:0},_(s.tours,t=>(l(),r("option",{class:"capitalize",value:t.id,selected:s.params.activity==t.id},n(t.name),9,G))),256)):(l(),r("option",Q,"Tours no disponibles"))],32)]),R,e("div",W,[X,e("select",{id:"zone",onChange:o[1]||(o[1]=t=>f(s.params.activity,t.target.value)),name:"zone",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},[Y,s.tours?(l(!0),r(h,{key:0},_(u(j)(),t=>(l(),r("option",{class:"capitalize",value:t.id,selected:s.params.zone==t.id},n(t.name),9,ee))),256)):(l(),r("option",te,"Tours no disponibles"))],32)]),se,e("div",oe,[ae,m(g,{id:"hotelNameFilter",onInput:o[2]||(o[2]=t=>z(t.target.value)),placeholder:"buscar hotel...",class:"w-full"})])])]),e("div",ie,[e("div",re,[e("table",le,[ce,e("tbody",ne,[((i=s.pickups)==null?void 0:i.length)>0?(l(!0),r(h,{key:0},_(c.value.length>0?c.value:s.pickups,(t,d)=>(l(),r("tr",de,[e("td",pe,[e("div",ue,[e("div",me,n(t.hotel),1)])]),e("td",he,[e("div",_e,[e("div",be,[e("div",fe,[m(g,{placeholder:"00:00",value:t.pickup_time.slice(0,5),id:"PickupTime",name:"PickupTime",onBlur:p=>b(t.id,p.target.value,d),onKeydown:N(p=>b(t.id,p.target.value,d),["enter"])},null,8,["value","onBlur","onKeydown"])])])])]),e("td",ve,[e("div",xe,[e("button",{onClick:p=>B(t.id,d),class:"border-2 border-amber-500 text-amber-500 hover:bg-amber-500 hover:text-white py-2 px-4 rounded-xl duration-150 hover:shadow-md hover:shadow-amber-600 active:bg-amber-600"},"Eliminar",8,ye)])])]))),256)):(l(),r("tr",ge,ke))])])]),e("div",ze,[e("p",null," pickups: "+n(c.value.length>0?c.value.length:s.pickups.length),1)])])])])])}}};export{Ie as default};
