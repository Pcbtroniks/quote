import{r as v,e as a,o as i,a as t,g as x,t as n,u as d,b as u,w as k,d as z,F as _,h,M as B,J as C}from"./app-BDCeMI-n.js";import{d as T}from"./index-B2o-3mPr.js";import{_ as y}from"./InputText-BCU4TEaG.js";import{_ as N}from"./ModernSwitch-XfUAtOBQ.js";import{g as F,z as H,b as I,f as j}from"./Utils-sBlKm8uS.js";import{s as P,B as Z}from"./Alerts-C1IaR9eK.js";import"./sweetalert2.all-SDzUv-ZR.js";const A={class:"w-full antialiased bg-gray-100 text-gray-600"},E={class:"flex flex-col justify-center h-full"},L={class:"w-full mx-auto bg-white shadow-lg rounded-sm"},D={class:"px-5 pt-4 py-4 pb-8 border-b border-gray-100"},K={class:"font-bold text-sky-500 text-2xl border-b border-gray-100 pb-4"},O=t("br",{class:"md:hidden"},null,-1),V=t("button",{class:"bg-sky-500 hover:bg-sky-600 text-white font-bold py-2 px-4 rounded-sm mt-4"}," Crear pickup ",-1),$={class:"my-4"},M={class:"md:mt-8 md:flex md:gap-3 md:items-center"},q={class:"md:w-2/6"},J=t("label",{for:"tour",class:"mb-3 block text-base font-medium text-gray-700"}," Tour ",-1),S=t("option",{value:"null",selected:"",disabled:""},"-- Tour --",-1),U=["value","selected"],G={key:1},Q=t("div",{class:"h-4 md:hidden"},null,-1),R={class:"md:w-1/6"},W=t("label",{for:"zone",class:"mb-3 block text-base font-medium text-gray-700"}," Zona ",-1),X=t("option",{value:"null",selected:"",disabled:""},"-- Zona --",-1),Y=["value","selected"],tt={key:1},et=t("div",{class:"h-4 md:hidden"},null,-1),st={class:"md:w-2/6"},ot=t("label",{for:"hotelNameFilter",class:"mb-3 block text-base font-medium text-gray-700"}," Hotel ",-1),at={class:"p-3"},it={class:"overflow-x-auto"},lt={class:"table-auto w-full"},rt=t("thead",{class:"text-xs font-semibold uppercase text-gray-400 bg-gray-50"},[t("tr",null,[t("th",{class:"p-2 whitespace-nowrap"},[t("div",{class:"font-semibold text-left"},"Hotel")]),t("th",{class:"p-2 whitespace-nowrap"},[t("div",{class:"font-semibold text-left"},"Hora del pickup")]),t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-right text-gray-400"},[t("svg",{color:"currentColor",class:"w-6 text-right fill-current text-grey-dark",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"CurrentColor",viewBox:"0 0 20 20"},[t("path",{d:"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})])])])],-1),ct={class:"text-sm divide-y divide-gray-100"},nt={class:"h-12 hover:bg-sky-300"},dt={class:"p-2 whitespace-nowrap"},ut={class:"flex items-center"},pt={class:"font-medium text-gray-800"},mt={class:"p-2 whitespace-nowrap"},_t={class:"flex items-center"},ht={class:"font-medium text-gray-800 hover:text-green-500"},ft={class:"font-medium text-gray-800"},bt=t("td",{class:"p-2 whitespace-nowrap"},[t("div",{class:"flex items-center"},[t("div",{class:"font-medium text-gray-400"},"...")])],-1),vt={key:1,class:"h-12 hover:bg-sky-300 text-center"},xt=t("td",{colspan:"3",class:"p-2 whitespace-nowrap text-center"},[t("div",{class:"flex items-center justify-center text-center"},[t("div",{class:"text-center font-bold text-sky-400"}," No hay informaciÃ³n dispobible")])],-1),yt=[xt],gt={class:"text-xs"},Ft={__name:"PickuplistByZone",props:{pickups:Object,tours:Object,params:Object},setup(g){const s=g,f=async(l,o,r)=>{if(o==s.pickups[r].pickup_time.slice(0,5)||o==null||o=="")return null;try{const e=j(o),p=await C.post(route("pickups.update",l),{pickup_time:e});s.pickups[r].pickup_time=e,await P().fire({icon:"success",title:"Hora de pickup actualizada"})}catch(e){console.log(e),Z()}},b=(l,o)=>{const r=l??11,e=o??1;T.Inertia.visit(route("pickups.by.zone",{activity:r,zone:e}))};v([]);const c=v([]),w=l=>{l.length<3&&(c.value=s.pickups),c.value=s.pickups.filter(o=>o.hotel.toLowerCase().includes(l.toLowerCase()))};return(l,o)=>{var r;return i(),a("section",A,[t("div",E,[t("div",L,[t("header",D,[t("h1",K,[x(n(d(F)(s.params.activity,s.tours))+" ",1),O,x(" en "+n(d(H)(s.params.zone)),1)]),t("div",null,[u(d(z.Link),{href:l.route("pickups.create")},{default:k(()=>[V]),_:1},8,["href"])]),t("div",$,[u(N,{option:"opt-1"})]),t("div",M,[t("div",q,[J,t("select",{id:"tour",onChange:o[0]||(o[0]=e=>b(e.target.value,s.params.zone)),name:"tour",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},[S,s.tours?(i(!0),a(_,{key:0},h(s.tours,e=>(i(),a("option",{class:"capitalize",value:e.id,selected:s.params.activity==e.id},n(e.name),9,U))),256)):(i(),a("option",G,"Tours no disponibles"))],32)]),Q,t("div",R,[W,t("select",{id:"zone",onChange:o[1]||(o[1]=e=>b(s.params.activity,e.target.value)),name:"zone",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},[X,s.tours?(i(!0),a(_,{key:0},h(d(I)(),e=>(i(),a("option",{class:"capitalize",value:e.id,selected:s.params.zone==e.id},n(e.name),9,Y))),256)):(i(),a("option",tt,"Tours no disponibles"))],32)]),et,t("div",st,[ot,u(y,{id:"hotelNameFilter",onInput:o[2]||(o[2]=e=>w(e.target.value)),placeholder:"buscar hotel...",class:"w-full"})])])]),t("div",at,[t("div",it,[t("table",lt,[rt,t("tbody",ct,[((r=s.pickups)==null?void 0:r.length)>0?(i(!0),a(_,{key:0},h(c.value.length>0?c.value:s.pickups,(e,p)=>(i(),a("tr",nt,[t("td",dt,[t("div",ut,[t("div",pt,n(e.hotel),1)])]),t("td",mt,[t("div",_t,[t("div",ht,[t("div",ft,[u(y,{placeholder:"00:00",value:e.pickup_time.slice(0,5),id:"PickupTime",name:"PickupTime",onBlur:m=>f(e.id,m.target.value,p),onKeydown:B(m=>f(e.id,m.target.value,p),["enter"])},null,8,["value","onBlur","onKeydown"])])])])]),bt]))),256)):(i(),a("tr",vt,yt))])])]),t("div",gt,[t("p",null," pickups: "+n(c.value.length>0?c.value.length:s.pickups.length),1)])])])])])}}};export{Ft as default};
