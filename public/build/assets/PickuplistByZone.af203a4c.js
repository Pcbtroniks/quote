import{r as v,o as i,d as l,a as e,f as x,t as r,g as d,b as u,w as k,F as _,h,y as B,L as z,N as C,J as N}from"./app.4c8f443f.js";import{_ as g}from"./sweetalert2.all.ab5f51d7.js";import{_ as T}from"./ModernSwitch.ec2cc2cf.js";import{g as F,z as H,a as I,f as j}from"./Utils.7432da16.js";import{s as L,B as P}from"./Alerts.cf7ebff8.js";const Z={class:"w-full antialiased bg-gray-100 text-gray-600"},A={class:"flex flex-col justify-center h-full"},D={class:"w-full mx-auto bg-white shadow-lg rounded-sm"},K={class:"px-5 pt-4 py-4 pb-8 border-b border-gray-100"},O={class:"font-bold text-sky-500 text-2xl border-b border-gray-100 pb-4"},V=e("br",{class:"md:hidden"},null,-1),E=e("button",{class:"bg-sky-500 hover:bg-sky-600 text-white font-bold py-2 px-4 rounded-sm mt-4"}," Crear pickup ",-1),$={class:"my-4"},q={class:"md:mt-8 md:flex md:gap-3 md:items-center"},J={class:"md:w-2/6"},M=e("label",{for:"tour",class:"mb-3 block text-base font-medium text-gray-700"}," Tour ",-1),S=e("option",{value:"null",selected:"",disabled:""},"-- Tour --",-1),U=["value","selected"],G={key:1},Q=e("div",{class:"h-4 md:hidden"},null,-1),R={class:"md:w-1/6"},W=e("label",{for:"zone",class:"mb-3 block text-base font-medium text-gray-700"}," Zona ",-1),X=e("option",{value:"null",selected:"",disabled:""},"-- Zona --",-1),Y=["value","selected"],ee={key:1},te=e("div",{class:"h-4 md:hidden"},null,-1),se={class:"md:w-2/6"},oe=e("label",{for:"hotelNameFilter",class:"mb-3 block text-base font-medium text-gray-700"}," Hotel ",-1),ae={class:"p-3"},ie={class:"overflow-x-auto"},le={class:"table-auto w-full"},ce=e("thead",{class:"text-xs font-semibold uppercase text-gray-400 bg-gray-50"},[e("tr",null,[e("th",{class:"p-2 whitespace-nowrap"},[e("div",{class:"font-semibold text-left"},"Hotel")]),e("th",{class:"p-2 whitespace-nowrap"},[e("div",{class:"font-semibold text-left"},"Hora del pickup")]),e("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-right text-gray-400"},[e("svg",{color:"currentColor",class:"w-6 text-right fill-current text-grey-dark",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"CurrentColor",viewBox:"0 0 20 20"},[e("path",{d:"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})])])])],-1),ne={class:"text-sm divide-y divide-gray-100"},re={class:"h-12 hover:bg-sky-300"},de={class:"p-2 whitespace-nowrap"},ue={class:"flex items-center"},pe={class:"font-medium text-gray-800"},me={class:"p-2 whitespace-nowrap"},_e={class:"flex items-center"},he={class:"font-medium text-gray-800 hover:text-green-500"},fe={class:"font-medium text-gray-800"},be=e("td",{class:"p-2 whitespace-nowrap"},[e("div",{class:"flex items-center"},[e("div",{class:"font-medium text-gray-400"},"...")])],-1),ve={key:1,class:"h-12 hover:bg-sky-300 text-center"},xe=e("td",{colspan:"3",class:"p-2 whitespace-nowrap text-center"},[e("div",{class:"flex items-center justify-center text-center"},[e("div",{class:"text-center font-bold text-sky-400"}," No hay informaci\xF3n dispobible")])],-1),ge=[xe],ye={class:"text-xs"},Ne={__name:"PickuplistByZone",props:{pickups:Object,tours:Object,params:Object},setup(y){const s=y,f=async(a,o,c)=>{if(o==s.pickups[c].pickup_time.slice(0,5)||o==null||o=="")return null;try{const t=j(o),p=await N.post(route("pickups.update",a),{pickup_time:t});s.pickups[c].pickup_time=t,await L().fire({icon:"success",title:"Hora de pickup actualizada"})}catch(t){console.log(t),P()}},b=(a,o)=>{const c=a!=null?a:11,t=o!=null?o:1;B.Inertia.visit(route("pickups.by.zone",{activity:c,zone:t}))};v([]);const n=v([]),w=a=>{a.length<3&&(n.value=s.pickups),n.value=s.pickups.filter(o=>o.hotel.toLowerCase().includes(a.toLowerCase()))};return(a,o)=>{var c;return i(),l("section",Z,[e("div",A,[e("div",D,[e("header",K,[e("h1",O,[x(r(d(F)(s.params.activity,s.tours))+" ",1),V,x(" en "+r(d(H)(s.params.zone)),1)]),e("div",null,[u(d(z),{href:a.route("pickups.create")},{default:k(()=>[E]),_:1},8,["href"])]),e("div",$,[u(T,{option:"opt-1"})]),e("div",q,[e("div",J,[M,e("select",{id:"tour",onChange:o[0]||(o[0]=t=>b(t.target.value,s.params.zone)),name:"tour",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},[S,s.tours?(i(!0),l(_,{key:0},h(s.tours,t=>(i(),l("option",{class:"capitalize",value:t.id,selected:s.params.activity==t.id},r(t.name),9,U))),256)):(i(),l("option",G,"Tours no disponibles"))],32)]),Q,e("div",R,[W,e("select",{id:"zone",onChange:o[1]||(o[1]=t=>b(s.params.activity,t.target.value)),name:"zone",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},[X,s.tours?(i(!0),l(_,{key:0},h(d(I)(),t=>(i(),l("option",{class:"capitalize",value:t.id,selected:s.params.zone==t.id},r(t.name),9,Y))),256)):(i(),l("option",ee,"Tours no disponibles"))],32)]),te,e("div",se,[oe,u(g,{id:"hotelNameFilter",onInput:o[2]||(o[2]=t=>w(t.target.value)),placeholder:"buscar hotel...",class:"w-full"})])])]),e("div",ae,[e("div",ie,[e("table",le,[ce,e("tbody",ne,[((c=s.pickups)==null?void 0:c.length)>0?(i(!0),l(_,{key:0},h(n.value.length>0?n.value:s.pickups,(t,p)=>(i(),l("tr",re,[e("td",de,[e("div",ue,[e("div",pe,r(t.hotel),1)])]),e("td",me,[e("div",_e,[e("div",he,[e("div",fe,[u(g,{placeholder:"00:00",value:t.pickup_time.slice(0,5),id:"PickupTime",name:"PickupTime",onBlur:m=>f(t.id,m.target.value,p),onKeydown:C(m=>f(t.id,m.target.value,p),["enter"])},null,8,["value","onBlur","onKeydown"])])])])]),be]))),256)):(i(),l("tr",ve,ge))])])]),e("div",ye,[e("p",null," pickups: "+r(n.value.length>0?n.value.length:s.pickups.length),1)])])])])])}}};export{Ne as default};
