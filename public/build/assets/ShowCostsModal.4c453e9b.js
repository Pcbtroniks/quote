import{r as h,o as d,d as v,b as f,K as x,w as m,n as C,a as t,t as s,F as w,h as P,e as A,f as k,M as S}from"./app.ada46aef.js";import{_ as $}from"./Button.9f323463.js";import{_ as z}from"./DialogModal.6e26caaf.js";import{_ as N}from"./PrimaryButton.d75391a9.js";const U=o=>({1:"cancun",2:"rm",3:"pdc"})[o],W=new Date().toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),M=o=>{var l;return(l=["no especificada","entrance","tour","pack"][o])!=null?l:"invalida"},X=(o,e)=>Number(Number(o)+Number(e)).toFixed(2),Y=o=>o>0?"$"+o:"",T=t("p",{class:"font-bold text-gray-700"}," Resumen de la cotizaci\xF3n actual ",-1),q={class:"text-gray-700"},F={class:"text-gray-700"},D=t("div",{class:"h-8"},null,-1),L={key:0},V=t("p",{class:"font-bold text-xl text-gray-700"}," Actividades ",-1),j=t("div",{class:"h-4"},null,-1),B=t("div",{class:"h-8"},null,-1),I=t("p",{class:"font-bold text-xl text-gray-700"}," Importes totales ",-1),O=t("div",{class:"h-4"},null,-1),E=t("div",{class:"h-8"},null,-1),Q={class:"font-bold text-xl text-gray-700"},R={__name:"ShowCostsModal",props:{activities:{type:Object},activityList:{type:Array}},setup(o){const e=o,l=h([]),a=h({show:!1,totalPublicPrice:0,totalAgencyCost:0,quotes:[]}),y=()=>{if(M(e.activities.tipoReservacion)=="entrance"){const r={activity:e.activities.actividad,adults:e.activities.adultos,minors:e.activities.menores,season:e.activities.season,zone:e.activities.nacionales?4:5,type:"entrance"};return l.value=[r],null}return l.value=[...e.activityList],null},g=()=>{y(),l.value.forEach(({activity:r,adults:n,minors:i,season:u,zone:p,type:_})=>{l.value.length==2?_="pack_double":l.value.length>=3&&(_="pack_multiple"),S.get(route("quoter.calculate"),{params:{activity:r,adults:n,minors:i,season:u,zone:p,type:_}}).then(c=>(a.value.quotes=[c.data],a.value.totalPublicPrice+=c.data.summary.totalPublicPrice,a.value.totalAgencyCost+=c.data.summary.totalAgencyCost,!0)).catch(c=>{console.log(c)})}),console.clear(),console.log(e.activities),console.log(a.value),a.value.show=!0};function b(){g()}return(r,n)=>(d(),v("div",null,[f(z,{show:a.value.show,onClose:n[1]||(n[1]=i=>a.value.show=!1)},x({title:m(()=>[T,t("p",q," Fecha: "+s(new Date().toLocaleDateString()),1)]),footer:m(()=>[f(N,{class:"ml-2",onClick:n[0]||(n[0]=i=>a.value.show=!1)},{default:m(()=>[k(" Aceptar ")]),_:1})]),_:2},[a.value.quotes?{name:"content",fn:m(()=>{var i,u;return[t("div",F,[t("div",null,[t("p",null," Nombre: "+s((i=e.activities.nombreTitular)!=null?i:"Ingrese el nomber por favor."),1),t("p",null," Adultos: "+s(e.activities.adultos)+" - Menor: "+s(e.activities.menores)+" - Infante: "+s(e.activities.infantes),1)]),D,a.value.quotes?(d(),v("div",L,[V,j,t("ul",null,[(d(!0),v(w,null,P(a.value.quotes,p=>(d(),v("li",null,s(p.description),1))),256))])])):A("",!0),B,t("div",null,[I,O,t("p",null,"Precio publico: $"+s(a.value.totalPublicPrice),1),t("p",null,"Precio a pagar: $"+s(a.value.totalAgencyCost),1),E,t("p",Q," Comision: $"+s((u=(a.value.totalPublicPrice-a.value.totalAgencyCost).toFixed(2))!=null?u:"0"),1)])])]}),key:"0"}:void 0]),1032,["show"]),f($,{onClick:b,msg:"Calcular costos",class:C("btn btn-primary")})]))}},Z=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{Z as S,W as T,R as _,X as f,Y as h,M as p,U as z};
