import{u as h,I as y,o as d,c as g,w as t,f as l,a as e,b as a,d as x,t as n,e as b,n as v,g as p}from"./app.a433dce3.js";import{_ as w}from"./FormSection.17f1f8b4.js";import{_ as C,a as k}from"./TextInput.38a31449.js";import{_ as S}from"./InputLabel.33076bd5.js";import{_ as u}from"./PrimaryButton.2cb3e895.js";import"./SectionTitle.659f670a.js";import"./_plugin-vue_export-helper.cdc0426e.js";const V=e("div",{class:"col-span-6"},[e("div",null,"Folio")],-1),$={class:"col-span-6 sm:col-span-4"},N={key:0},q={href:"#",class:"w-[30rem] border-2 border-b-4 border-gray-200 rounded-xl hover:bg-gray-50"},B=e("p",{class:"bg-sky-500 w-fit px-4 py-1 text-sm font-bold text-white rounded-tl-lg rounded-br-xl"}," Promomex ",-1),j={class:"grid grid-cols-6 p-5 gap-y-2"},I={class:"col-span-5 md:col-span-4 ml-4"},T={class:"text-sky-500 font-bold text-xs capitalize"},z={class:"text-gray-600 font-bold"},D={class:"text-gray-400"},F={class:"text-gray-400"},E={class:"flex col-start-2 ml-4 md:col-start-auto md:ml-0 md:justify-end"},G={class:"rounded-lg text-sky-500 font-bold bg-sky-100 py-1 px-3 text-sm w-fit h-fit"},Q={__name:"SyncInvoiceCoupon",setup(H){const i=h({coupon:""}),o=y({coupon:null,couponCode:null,error:null}),m=()=>null,_=async c=>{const s=await f(route("coupon.search.code",{code:c}));s.status==404?(o.error="No se ha encontrado un cupon",setTimeout(()=>{o.error=null},3e3)):(o.coupon=s,console.log(s))},f=async(c,s)=>{try{return await(await fetch(c,s)).json()}catch(r){console.error(await r.json())}};return(c,s)=>(d(),g(w,{onSubmitted:m},{title:t(()=>[l(" Invoice Details ")]),description:t(()=>[l(" Sync invoice with coupons searching by coupon code. ")]),form:t(()=>[V,e("div",$,[a(S,{for:"folio",value:"Search a coupon"}),a(C,{id:"folio",modelValue:o.couponCode,"onUpdate:modelValue":s[0]||(s[0]=r=>o.couponCode=r),type:"text",class:"inline w-3/4 mt-1",placeholder:"Coupon code...",autofocus:""},null,8,["modelValue"]),a(u,{onClick:s[1]||(s[1]=()=>_(o.couponCode)),disabled:!o.couponCode,class:"inline ml-4"},{default:t(()=>[l(" search ")]),_:1},8,["disabled"]),a(k,{message:o.error,class:"mt-2"},null,8,["message"]),o.coupon?(d(),x("div",N,[e("a",q,[B,e("div",j,[e("div",I,[e("p",T,n(o.coupon.quote.type),1),e("p",z,n(o.coupon.quote.listed_activity.activity.name),1),e("p",D,n(o.coupon.quote.listed_activity.date),1),e("p",F,n(o.coupon.quote.holder_name),1)]),e("div",E,[e("p",G,"$"+n(o.coupon.sale_amount),1)])])])])):b("",!0)])]),actions:t(()=>[a(u,{class:v({"opacity-25":p(i).processing}),disabled:p(i).processing},{default:t(()=>[l(" Save ")]),_:1},8,["class","disabled"])]),_:1}))}};export{Q as default};
